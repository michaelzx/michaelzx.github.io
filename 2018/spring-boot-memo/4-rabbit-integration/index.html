<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="æˆ‘æ˜¯ä¸€ä¸ªwebå…¨æ ˆå·¥ç¨‹å¸ˆï¼Œçƒ­çˆ±å„ç§webæœ‰å…³çš„äº’è”æŠ€æœ¯ï¼Œæ— è®ºå‰ç«¯ã€è¿˜æ˜¯åç«¯ã€‚è¿™ä¸ªç½‘ç«™ä¸­ï¼Œæˆ‘æ€»ç»“äº†éƒ¨åˆ†å­¦ä¹ å’Œå·¥ä½œçš„ç»éªŒï¼Œåˆ†äº«å‡ºæ¥ä¸å¤§å®¶åˆ†äº«äº¤æµã€‚">
    <meta name="keyword"  content="ç« å®µ,michael,å¬é£,webå‰ç«¯,webåç«¯,æŒç»­é›†æˆ,Spring Boot,Spring Cloud,Vue,Angular,Docker,Python,Node">
    <!-- <link rel="shortcut icon" href="/img/favicon.ico"> -->
    
    <title>SpringBootç¬”è®°(å››) RabbitMQ é›†æˆå’Œä½¿ç”¨ - å¬é£.Michael</title>
    
    <!--ç™¾åº¦ç»Ÿè®¡-->
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?d0c0457f89e68e1f8accd218fb7338ea";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
    <!-- Bootstrap Core CSS -->
    <link href="https://cdn.bootcss.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet">
    <!--highlight-->
    <link rel="stylesheet" href="/css/highlight.github.css">
    <!-- Custom Fonts -->
    <script src="//at.alicdn.com/t/font_702425_w2w4nyr7wxywrk9.js"></script>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/zx-blog.min.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <nav id="navbar-zx" class="navbar navbar-expand-lg fixed-top">
  
  <a class="navbar-brand" href="/">å¬é£.Michael</a>
  
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav justify-content-end ml-auto">
      
      
      <li class="nav-item">
        <a class="nav-link" href="/">é¦–é¡µ / Home</a>
      </li>
      
      <li class="nav-item">
        <a class="nav-link" href="/archive">å½’æ¡£ / Archive</a>
      </li>
      
      <li class="nav-item">
        <a class="nav-link" href="/about">å…³äº / About</a>
      </li>
      
    </ul>
  </div>
</nav>

    <!-- Page Header -->

<style>
header.intro-header{
    position: relative;
    
    background-image:url('/img/header-5.jpg')
}
header.intro-header .header-mask{
  width: 100%;
  height: 100%;
  position: absolute;
  background: rgba(0,0,0, 0.2);
}
</style>
<header class="intro-header">
  <div class="header-mask"></div>
  <div class="container">
      <div class="row">
        
        <div class="col-lg-10 offset-lg-1 col-md-10 offset-md-1">
            <div class="post-heading">
                <div class="tags">
                    
                        <a class="tag" href="/tags/åç«¯" title="åç«¯">åç«¯</a>
                    
                        <a class="tag" href="/tags/SpringBoot" title="SpringBoot">SpringBoot</a>
                    
                        <a class="tag" href="/tags/RabbitMQ" title="RabbitMQ">RabbitMQ</a>
                    
                </div>
                <h1 class="display-1" data-toc-skip>SpringBootç¬”è®°(å››) RabbitMQ é›†æˆå’Œä½¿ç”¨</h1>
                <h2 class="subTitle" data-toc-skip></h2>
                <span class="meta">
                    Posted by Michael on
                    2018-08-05
                </span>
            </div>
        </div>
        
      </div>
  </div>
</header>


<!-- Main Content -->
<div class="container">
    
<!-- Post Content -->
<div class="row mt-4">
    <div class="
                col-lg-8 offset-lg-1
                col-md-12
                col-sm-12
                col-xs-12
                post-list-container
            ">
        <article class="post-context">
            
            <h1 id="ä¾èµ–å’Œé…ç½®"><a href="#ä¾èµ–å’Œé…ç½®" class="headerlink" title="ä¾èµ–å’Œé…ç½®"></a>ä¾èµ–å’Œé…ç½®</h1><p>build.gradle</p>
<pre><code>dependencies {
    compile(&#39;org.springframework.boot:spring-boot-starter-amqp&#39;)
}
</code></pre><p>application.yml</p>
<pre><code class="YAML">spring:
  rabbitmq:
    host: localhost
    port: 5672
    username: demo
    password: demo123
</code></pre>
<p>å…¶ä»–è²Œä¼¼éƒ½æ˜¯ä»£ç é‡Œé¢çš„äº‹å„¿äº†ğŸ˜‚</p>
<h1 id="æœ€ç®€å•çš„demo"><a href="#æœ€ç®€å•çš„demo" class="headerlink" title="æœ€ç®€å•çš„demo"></a>æœ€ç®€å•çš„demo</h1><p>æ­äº†ä¸€ä¸ªæœ€ç®€å•çš„demoï¼Œå¤‡å¿˜</p>
<ul>
<li>1å‘å¸ƒè€…ç”Ÿäº§æ¶ˆæ¯</li>
<li>1æ¶ˆè´¹è€…æ¥æ”¶æ¶ˆæ¯</li>
</ul>
<p><a href="https://github.com/michaelzx/spring-boot-rabbit-demo" target="_blank" rel="noopener">https://github.com/michaelzx/spring-boot-rabbit-demo</a></p>
<h1 id="å»¶è¿Ÿæ¶ˆæ¯é˜Ÿåˆ—"><a href="#å»¶è¿Ÿæ¶ˆæ¯é˜Ÿåˆ—" class="headerlink" title="å»¶è¿Ÿæ¶ˆæ¯é˜Ÿåˆ—"></a>å»¶è¿Ÿæ¶ˆæ¯é˜Ÿåˆ—</h1><p>ä¸¤ä¸ªæ ¸å¿ƒå…³é”®è¯ï¼š<code>TTL</code>ã€<code>DLX</code></p>
<h2 id="TTL"><a href="#TTL" class="headerlink" title="TTL"></a>TTL</h2><p>TTLæ˜¯<code>Time To Live</code>çš„ç¼©å†™ï¼Œ<code>ç”Ÿå­˜æ—¶é•¿</code><br>RabbitMQï¼Œå…è®¸æˆ‘ä»¬ä¸º<code>Queue(é˜Ÿåˆ—)</code>æˆ–<code>Message(æ¶ˆæ¯)</code>è®¾ç½®TTLï¼Œä¸€æ—¦è¿‡æœŸï¼Œå°±ä¼šå˜æˆ<code>Dead Letter(æ­»ä¿¡)</code></p>
<blockquote>
<p>å¦‚æœåŒæ—¶ï¼Œä¸º<code>é˜Ÿåˆ—</code>å’Œ<code>æ¶ˆæ¯</code>è®¾ç½®TTLï¼Œåˆ™ä¼šä»¥<code>è¾ƒå°çš„ä¸ºå‡†</code></p>
</blockquote>
<h2 id="DLX"><a href="#DLX" class="headerlink" title="DLX"></a>DLX</h2><p>DLXæ˜¯<code>Dead Letter Exchanges</code>çš„ç¼©å†™ï¼Œæ­»ä¿¡äº¤æ¢å™¨</p>
<p>RabbitMQçš„<code>é˜Ÿåˆ—</code>æä¾›äº†2ä¸ªå¯é€‰å‚æ•°ï¼š<code>x-dead-letter-exchange</code>ã€<code>x-dead-letter-routing-key</code></p>
<ul>
<li><code>x-dead-letter-exchange</code>ï¼šå‡ºç°<code>æ­»ä¿¡</code>ä¹‹åï¼Œå°†<code>æ­»ä¿¡</code>ä»æ–°å‘é€åˆ°æŒ‡å®šçš„<code>äº¤æ¢å™¨</code></li>
<li><code>x-dead-letter-routing-key</code>ï¼šå‡ºç°<code>æ­»ä¿¡</code>ä¹‹åï¼Œå°†<code>æ­»ä¿¡</code>ä»æ–°å‘é€åˆ°æŒ‡å®šçš„<code>é˜Ÿåˆ—</code></li>
</ul>
<p>è¿™ä¸¤ä¸ªå‚æ•°<code>å¿…é¡»åŒæ—¶ä½¿ç”¨</code>ï¼Œåªæœ‰è¿™æ ·æ‰èƒ½ç¡®å®šæœ€åæ˜¯è½¬å‘åˆ°å“ªä¸ªé˜Ÿåˆ—çš„</p>
<p><img src="http://img.zhangxiao.org/rabbit_mq_delay_message_queue.jpg" alt="xxx"><br><a href="http://img.zhangxiao.org/rabbit_mq_delay_message_queue.jpg" target="_blank" rel="noopener">æŸ¥çœ‹å¤§å›¾</a></p>
<p>åšäº†ä¸€ä¸ªç®€å•çš„demoï¼š<a href="https://github.com/michaelzx/spring-boot-rabbit-mq-delay-demo" target="_blank" rel="noopener">https://github.com/michaelzx/spring-boot-rabbit-mq-delay-demo</a></p>
<h1 id="å¹¿æ’­ï¼ˆè®¢é˜…ï¼‰"><a href="#å¹¿æ’­ï¼ˆè®¢é˜…ï¼‰" class="headerlink" title="å¹¿æ’­ï¼ˆè®¢é˜…ï¼‰"></a>å¹¿æ’­ï¼ˆè®¢é˜…ï¼‰</h1><p>Nä¸ªæ¶ˆè´¹è€…ï¼Œæ¶ˆè´¹åŒä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ¯ä¸ªäººéƒ½èƒ½æ‹¿åˆ°ç›¸åŒçš„æ¶ˆæ¯</p>
<blockquote>
<p>å¾…å®è·µï¼Œå¤‡å¿˜ç•™å‘</p>
</blockquote>
<h1 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h1><blockquote>
<p><a href="https://blog.csdn.net/u014308482/article/details/53036770" target="_blank" rel="noopener">ã€ŠRabbitMQ å®ç°å»¶è¿Ÿé˜Ÿåˆ—çš„ä¸¤ç§æ–¹å¼ã€‹</a><br><a href="https://blog.csdn.net/i_vic/article/details/72742277" target="_blank" rel="noopener">ã€Šspring boot è‡ªå­¦ç¬”è®°(äº”) Rabbitmqé›†æˆ,å»¶æ—¶æ¶ˆæ¯é˜Ÿåˆ—å®ç°ã€‹</a><br><a href="https://blog.csdn.net/lxhjh/article/details/69055129" target="_blank" rel="noopener">ã€ŠSpringBootçš„RabbitMQæ¶ˆæ¯é˜Ÿåˆ—: å››ã€ç¬¬ä¸‰æ¨¡å¼â€Publish/Subscribeâ€ã€‹</a></p>
</blockquote>

        </article>
        <div>
            <!-- æ¥å¿…åŠ›Cityç‰ˆå®‰è£…ä»£ç  -->
            <div id="lv-container" data-id="city" data-uid="MTAyMC8zNzI2NS8xMzc5OQ==">
                <script type="text/javascript">
                    (function(d, s) {
                        var j, e = d.getElementsByTagName(s)[0];

                        if (typeof LivereTower === 'function') { return; }

                        j = d.createElement(s);
                        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
                        j.async = true;

                        e.parentNode.insertBefore(j, e);
                    })(document, 'script');
                </script>
                <noscript> ä¸ºæ­£å¸¸ä½¿ç”¨æ¥å¿…åŠ›è¯„è®ºåŠŸèƒ½è¯·æ¿€æ´»JavaScript</noscript>
            </div>
            <!-- Cityç‰ˆå®‰è£…ä»£ç å·²å®Œæˆ -->
        </div>
    </div>
    <aside class="col-lg-3 pr-4 .d-none .d-lg-block .d-xl-none side-bar">
        <nav id="post-toc" class="sticky-top"></nav>
    </aside>
</div>


</div>


    <!-- Footer -->
    <footer>
  <div class="container">
    <div class="copyright text-muted text-center">
    Copyright &copy; å¬é£.Michael 2019 
    </div>
  </div>
</footer>

<!-- jQuery -->
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.slim.js"></script>
<!-- Bootstrap Core JavaScript -->
<script src="https://cdn.bootcss.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
<!-- highlight -->
<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="/js/bootstrap-toc.js"></script>
<script src="/js/zx-blog.js"></script>
</body>
</html>
